"use strict";(self.webpackChunkassignment9_store=self.webpackChunkassignment9_store||[]).push([[572],{572:(ie,q,s)=>{s.r(q),s.d(q,{WebsiteModule:()=>oe});var d=s(6895),p=s(6806),i=s(9653),x=s(8505),Z=s(153),t=s(4650),dt=s(6518);let k=(()=>{class n{constructor(e,r,a){this.auth=e,this.router=r,this.store=a}canActivate(e,r){return this.store.pipe((0,i.Ys)(Z.jl),(0,x.b)(a=>{a||this.router.navigateByUrl("/login")}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(dt.e),t.LFG(p.F0),t.LFG(i.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var u=s(4006),ut=s(7579),U=s(2722),S=s(3527);const C=(0,i.ZF)("cart"),R=(0,i.P1)(C,S.td),mt=((0,i.P1)(C,S.g$),(0,i.P1)(C,S.OR),(0,i.P1)(C,n=>n.user_id),(0,i.P1)(C,n=>n.id),(0,i.P1)(C,n=>n.cartLoaded));var gt=s(1702);const E=(0,i.ZF)("product"),_=(0,i.P1)(E,gt.td),ft=(0,i.P1)(E,n=>n.allProductsLoaded);function j(n){return(0,i.P1)(_,o=>o.filter(e=>+e.id==+n)[0])}var g=s(1597),O=s(4859),c=s(3546),z=s(3848),v=s(9549),F=s(4144);function Ct(n,o){if(1&n&&(t.TgZ(0,"div",2)(1,"div",3)(2,"h2"),t._uU(3),t.qZA(),t.TgZ(4,"div",4)(5,"button",5),t._uU(6,"Delete item"),t.qZA()()(),t.TgZ(7,"div",6)(8,"div",7)(9,"mat-form-field")(10,"mat-label"),t._uU(11,"Quantity"),t.qZA(),t._UZ(12,"input",8,9),t.qZA()(),t.TgZ(14,"div",10),t._uU(15),t.ALo(16,"currency"),t.qZA()(),t.TgZ(17,"div",11)(18,"div"),t._uU(19,"Price Per Unit:"),t.qZA(),t._uU(20),t.ALo(21,"currency"),t.qZA()()),2&n){const e=o.$implicit,r=t.MAs(13);t.xp6(3),t.Oqu(e.name),t.xp6(9),t.Q6J("max",e.quantity)("value",e.quantity),t.xp6(3),t.hij("Total: ",t.lcZ(16,5,+e.price*+r.value),""),t.xp6(5),t.hij(" ",t.lcZ(21,7,e.price)," ")}}let I=(()=>{class n{constructor(e,r,a){this.cartStore=e,this.productStore=r,this.route=a,this.unsusbscribe=new ut.x,this.quantityInput=new u.NI(0,[u.kI.pattern(/^[0-9]+$/),u.kI.min(1)])}ngOnInit(){this.route.paramMap.pipe((0,U.R)(this.unsusbscribe)).subscribe({next:e=>{this.id=e.get("idProduct"),this.quantity=e.get("quantity")}}),this.id&&(this.productStore.pipe((0,U.R)(this.unsusbscribe),(0,i.Ys)(j(this.id)),(0,x.b)(e=>{this.quantityLimit=e.master?.stock,this.productChanging=e})).subscribe(),this.cartStore.pipe((0,U.R)(this.unsusbscribe),(0,i.Ys)(function ht(n){return(0,i.P1)(R,o=>o.filter(r=>+r.product_id==+n)[0])}(this.id))).subscribe({next:e=>{this.quantity&&(this.item=this.onReload(e,this.quantity))}})),this.id&&this.cartStore.dispatch((0,g.AI)({item:this.item})),this.cart$=this.cartStore.pipe((0,i.Ys)(R))}onReload(e,r){const a=this.productChanging.master?.price;let y;if(typeof e>"u"&&this.id&&this.quantity)y={id:this.id,quantity:this.quantity,product_variant_id:this.id,product_id:this.id,order_id:this.id,total:""+ +this.quantity*+a,price:a,name:this.productChanging.name,description:this.productChanging.description,promotion:0==+this.productChanging.master?.promotional_price?"0":"1"};else{const l=+e.quantity+ +r,ae=l*+e.price;y={...e,quantity:`${l}`,total:`${ae}`}}return y}ngOnDestroy(){this.unsusbscribe.next(null),this.unsusbscribe.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(i.yh),t.Y36(i.yh),t.Y36(p.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:5,vars:3,consts:[["label","Cart",1,"cart"],["class","product",4,"ngFor","ngForOf"],[1,"product"],[1,"description-product"],[1,"CRUD-operations"],["mat-button","","mat-raised-button","","color","accent"],[1,"add-more-products"],[1,"quantity"],["matInput","","type","number","pattern","[0-9]+","min","1",3,"max","value"],["quantity",""],[1,"total"],[1,"price-product"]],template:function(e,r){1&e&&(t.TgZ(0,"mat-card")(1,"mat-tab-group")(2,"mat-tab",0),t.YNc(3,Ct,22,9,"div",1),t.ALo(4,"async"),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("ngForOf",t.lcZ(4,1,r.cart$)))},dependencies:[d.sg,O.lW,c.a8,z.SP,z.uX,v.KE,v.hX,F.Nt,d.Ov,d.H9],styles:[".product[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;gap:3rem;width:70vw;min-width:400px;margin:5rem auto;padding:.8rem 2rem;box-shadow:2px 2px 4px 3px #41414159}@media screen and (max-width: 900px){.product[_ngcontent-%COMP%]{gap:2rem;flex-wrap:wrap;width:70vw;min-width:250px;padding:.8rem 1rem}}.total[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#ff4081}"]}),n})();const J=(0,i.ZF)("metaProducts"),vt=(0,i.P1)(J,n=>n.meta),Pt=(0,i.P1)(J,n=>n.allMetadataProductsLoaded);let $=(()=>{class n{constructor(e){this.store=e}getProductsByCategory(e){this.productsByCategory$=this.store.select(function xt(n){return(0,i.P1)(_,o=>o.filter(e=>e.category?.name===n))}(e))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(i.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var bt=s(1581),B=s(7392);function wt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",1),t._UZ(1,"img",2),t.TgZ(2,"mat-card-header")(3,"mat-card-title"),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.qZA()(),t.TgZ(7,"mat-card-content"),t._uU(8),t.qZA(),t.TgZ(9,"mat-card-actions",3)(10,"button",4)(11,"mat-icon"),t._uU(12,"thumb_up"),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"button",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.like())}),t.TgZ(15,"mat-icon"),t._uU(16,"thumb_down"),t.qZA(),t._uU(17),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("src",null==e.product.image?null:e.product.image.url,t.LSH)("alt",e.product.id),t.xp6(3),t.Oqu(e.product.name),t.xp6(2),t.Oqu(null==e.product.category?null:e.product.category.name),t.xp6(2),t.hij(" ",e.product.description," "),t.xp6(5),t.hij(" ",e.product.likes_up_count," "),t.xp6(1),t.Q6J("disabled",e.disableLikeButton),t.xp6(3),t.hij(" ",e.product.likes_down_count," ")}}let G=(()=>{class n{constructor(e){this.store=e,this.product=null,this.disableLikeButton=!1}ngOnInit(){}like(){if(this.product){const e={...this.product,likes_up_count:""+(+this.product.likes_up_count+1)};this.store.dispatch((0,g.gD)({update:{id:e.id,changes:e}})),this.disableLikeButton=!0}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(i.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["website-product-card"]],inputs:{product:"product"},decls:1,vars:1,consts:[["class","product-card",4,"ngIf"],[1,"product-card"],["mat-card-md-image","",3,"src","alt"],[1,"actions"],["mat-icon-button",""],["mat-icon-button","",3,"disabled","click"]],template:function(e,r){1&e&&t.YNc(0,wt,18,8,"mat-card",0),2&e&&t.Q6J("ngIf",null!==r.product)},dependencies:[d.O5,O.lW,c.a8,c.dk,c.dn,c.n5,c.$j,c.hq,c.nc,B.Hw],styles:[".product-card[_ngcontent-%COMP%]{width:20rem;box-shadow:2px 2px 4px 3px #41414159}@media screen and (max-width: 900px){.product-card[_ngcontent-%COMP%]{width:70vw}}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:1rem}"],changeDetection:0}),n})();const Zt=[[["",8,"card"]],"*"],_t=[".card","*"];let Q=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["website-product-list"]],ngContentSelectors:_t,decls:4,vars:0,consts:[[1,"list-cards-container"]],template:function(e,r){1&e&&(t.F$t(Zt),t.TgZ(0,"mat-card")(1,"div",0),t.Hsn(2),t.qZA(),t.Hsn(3,1),t.qZA())},dependencies:[c.a8],styles:["mat-card[_ngcontent-%COMP%]{overflow:hidden}.list-cards-container[_ngcontent-%COMP%]{--width: 80vw;display:flex;flex-direction:row;justify-content:space-around;flex-wrap:wrap;row-gap:1rem;margin:0 auto;padding:1.5rem 1rem;width:var(--width);min-width:30rem;box-shadow:1rem 1rem 2rem 3px #41414159;overflow:hidden}.list-cards-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:20rem}@media screen and (max-width: 900px){.list-cards-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:80vw;min-width:250px}}@media screen and (max-width: 900px){.list-cards-container[_ngcontent-%COMP%]{width:80vw;min-width:250px}}mat-card-content[_ngcontent-%COMP%]{width:40rem;overflow:hidden}@media screen and (max-width: 900px){mat-card-content[_ngcontent-%COMP%]{width:80vw;min-width:300px}}"],changeDetection:0}),n})(),W=(()=>{class n{transform(e,r,a){return e?e.length?(r||(r=10),a||(a=1),e.slice((a-1)*r,a*r)):[]:null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"paginate",type:n,pure:!0}),n})();const Ot=function(n,o){return["/product",n,o]};function Lt(n,o){if(1&n&&t._UZ(0,"website-product-card",4),2&n){const e=o.$implicit;t.Q6J("product",e)("routerLink",t.WLB(2,Ot,e.id,e.slug))}}const At=function(){return[6,10,20]};function Mt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"website-product-list"),t.ynx(1,1),t.YNc(2,Lt,1,5,"website-product-card",2),t.ALo(3,"paginate"),t.ALo(4,"async"),t.BQk(),t.TgZ(5,"mat-paginator",3),t.NdJ("page",function(a){t.CHM(e);const m=t.oxw();return t.KtG(m.handlePagination(a))}),t.qZA()()}if(2&n){const e=o.ngIf,r=t.oxw();t.xp6(2),t.Q6J("ngForOf",t.Dn7(3,4,t.lcZ(4,8,r.productList$),r.pageSize,r.pageNumber)),t.xp6(3),t.Q6J("length",e.total)("pageSize",r.pageSize)("pageSizeOptions",t.DdM(10,At))}}let H=(()=>{class n{constructor(e,r,a){this.store=e,this.productByCategoryService=r,this.router=a,this.pageSize=10,this.pageNumber=1}ngOnInit(){this.productList$=this.store.pipe((0,i.Ys)(_)),this.meta$=this.store.pipe((0,i.Ys)(vt)),this.productsByCategory$=this.productByCategoryService.productsByCategory$}handlePagination(e){this.pageSize=e.pageSize,this.pageNumber=e.pageIndex+1}getProduct(e){this.router.navigateByUrl("/product")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(i.yh),t.Y36($),t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:5,vars:3,consts:[[4,"ngIf"],[1,"card"],[3,"product","routerLink",4,"ngFor","ngForOf"],[3,"length","pageSize","pageSizeOptions","page"],[3,"product","routerLink"]],template:function(e,r){1&e&&(t.TgZ(0,"mat-card")(1,"h2"),t._uU(2,"products"),t.qZA(),t.YNc(3,Mt,6,11,"website-product-list",0),t.ALo(4,"async"),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngIf",t.lcZ(4,1,r.meta$)))},dependencies:[d.sg,d.O5,p.rH,c.a8,bt.NW,G,Q,d.Ov,W],styles:[".content[_ngcontent-%COMP%]{width:80vw}mat-paginator[_ngcontent-%COMP%]{display:flex;flex-direction:none;justify-content:flex-end;position:relative;width:80vw;box-shadow:4px 4px 1rem 3px #41414159;margin:1rem auto 0}@media screen and (max-width: 900px){mat-paginator[_ngcontent-%COMP%]{padding:.2rem 5vw}}@media screen and (max-width: 900px){mat-paginator[_ngcontent-%COMP%]{width:80vw;min-width:250px}}"]}),n})();const Tt=function(n,o){return["/cart",n,o]};function Ut(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t._UZ(1,"img",2),t.TgZ(2,"mat-card",3)(3,"mat-card-header",4)(4,"mat-card-title"),t._uU(5),t.qZA(),t.TgZ(6,"mat-card-subtitle"),t._uU(7),t.qZA()(),t.TgZ(8,"mat-card-content")(9,"h2"),t._uU(10),t.ALo(11,"currency"),t.qZA(),t.TgZ(12,"mat-card-title"),t._uU(13,"Description:"),t.qZA(),t.TgZ(14,"p"),t._uU(15),t.qZA(),t.TgZ(16,"mat-card-subtitle",5)(17,"div",6),t._uU(18),t.qZA(),t.TgZ(19,"div"),t._uU(20),t.ALo(21,"date"),t.qZA()()(),t.TgZ(22,"mat-card-actions")(23,"button",7),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.like())}),t.TgZ(24,"mat-icon"),t._uU(25,"thumb_up"),t.qZA(),t._uU(26),t.qZA(),t.TgZ(27,"button",8)(28,"mat-icon"),t._uU(29,"thumb_down"),t.qZA(),t._uU(30),t.qZA(),t.TgZ(31,"div",9)(32,"mat-form-field")(33,"mat-label"),t._uU(34,"Quantity"),t.qZA(),t._UZ(35,"input",10),t.TgZ(36,"mat-hint"),t._uU(37),t.qZA()()()(),t.TgZ(38,"button",11),t._uU(39,"Add to cart"),t.qZA()()()}if(2&n){const e=o.ngIf,r=t.oxw();t.xp6(1),t.Q6J("src",null==e.image?null:e.image.url,t.LSH),t.xp6(4),t.Oqu(e.name),t.xp6(2),t.Oqu(null==e.category?null:e.category.name),t.xp6(3),t.hij(" ",t.lcZ(11,14,null==e.master?null:e.master.price)," "),t.xp6(5),t.Oqu(e.description),t.xp6(3),t.hij("Stock: ",null==e.master?null:e.master.stock,""),t.xp6(2),t.hij("published at: ",t.lcZ(21,16,e.published_at),""),t.xp6(3),t.Q6J("disabled",r.disableLikeButton),t.xp6(3),t.hij(" ",e.likes_up_count," "),t.xp6(4),t.hij(" ",e.likes_down_count," "),t.xp6(5),t.Q6J("formControl",r.quantityInput),t.xp6(2),t.hij("max ",r.quantityLimit,""),t.xp6(1),t.Q6J("disabled",r.quantity.invalid)("routerLink",t.WLB(18,Tt,e.id,r.quantity.value))}}let D=(()=>{class n{constructor(e,r){this.route=e,this.productStore=r,this.disableLikeButton=!1,this.quantityInput=new u.NI(0,[u.kI.pattern(/^[0-9]+$/)])}ngOnInit(){this.unsusbscribe=this.route.paramMap.subscribe({next:e=>{this.id=e.get("id")}}),this.id&&(this.product$=this.productStore.pipe((0,i.Ys)(j(this.id)),(0,x.b)(e=>{this.productElement=e,this.quantityLimit=e.master?.stock,this.quantityInput.addValidators(u.kI.max(this.quantityLimit?+this.quantityLimit:0))})))}get quantity(){return this.quantityInput}like(){if(this.productElement){const e={...this.productElement,likes_up_count:""+(+this.productElement.likes_up_count+1)};this.productStore.dispatch((0,g.gD)({update:{id:e.id,changes:e}})),this.disableLikeButton=!0}}ngOnDestroy(){this.unsusbscribe.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz),t.Y36(i.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:2,vars:3,consts:[["class","grid-product",4,"ngIf"],[1,"grid-product"],[1,"image-product",3,"src"],[1,"product"],[1,"header-card"],[1,"metadata"],[1,"stock"],["mat-icon-button","",3,"disabled","click"],["mat-icon-button",""],[1,"quantity"],["matInput","","type","number",3,"formControl"],["mat-raised-button","","color","accent",3,"disabled","routerLink"]],template:function(e,r){1&e&&(t.YNc(0,Ut,40,21,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,r.product$))},dependencies:[d.O5,p.rH,O.lW,c.a8,c.dk,c.dn,c.n5,c.$j,c.hq,v.KE,v.bx,v.hX,F.Nt,B.Hw,u.Fj,u.wV,u.JJ,u.oH,d.Ov,d.H9,d.uU],styles:[".grid-product[_ngcontent-%COMP%]{width:70vw;min-width:400px;margin:5rem auto;padding:.8rem 1rem;box-shadow:2px 2px 4px 3px #41414159;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(2,1fr);grid-column-gap:2rem;grid-row-gap:2rem}.image-product[_ngcontent-%COMP%]{grid-area:1/1/3/3}.header-card[_ngcontent-%COMP%]{background-color:#3f51b5;margin:-18px -18px .8rem;padding:.8rem .3rem 0;color:#fff}.header-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#e6e6e6}.product[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;margin-right:1rem;border:1px solid #e6e6e6;box-shadow:1px 3px 4px 3px #41414159;grid-area:1/3/4/4}.metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;margin:1rem 0}.str[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:1rem}.description-product[_ngcontent-%COMP%]{box-shadow:2px 2px 4px 3px #41414159;grid-area:3/1/4/3}.quantity[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center;padding:.1rem 1rem}"]}),n})();var St=s(8372),Ft=s(1884),It=s(3900),$t=s(9646),Bt=s(3259),Yt=s(6698);const K=(0,i.ZF)("category"),Nt=(0,i.P1)(K,Yt.td),qt=(0,i.P1)(K,n=>n.allCategoriesLoaded);var kt=s(1645),Y=s(8255),X=s(3683),V=s(4633),tt=s(7957),Rt=s(3238);function Et(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){const m=t.CHM(e).ngIf,y=t.oxw(),l=t.MAs(7);return t.KtG(y.searchProduct(l.value,m))}),t.TgZ(1,"mat-icon",20),t._uU(2,"search"),t.qZA()()}}const jt=function(n,o){return["/product",n,o]};function zt(n,o){if(1&n&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("routerLink",t.WLB(3,jt,e.id,e.slug))("value",e.name),t.xp6(1),t.hij(" ",e.name," ")}}function Jt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-list-item",22),t.NdJ("click",function(){const m=t.CHM(e).$implicit,y=t.oxw();return t.KtG(y.filterByCategory(m.name))}),t._uU(1),t.qZA()}if(2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function Gt(n,o){if(1&n&&(t.TgZ(0,"mat-card-header"),t._UZ(1,"img",23),t._uU(2),t.ALo(3,"titlecase"),t.qZA()),2&n){const e=o.ngIf;t.xp6(2),t.hij(" Welcome ",t.lcZ(3,1,e.name)," ")}}function Qt(n,o){1&n&&(t.TgZ(0,"mat-card-header"),t._uU(1," Welcome! Please sign in to enjoy our products "),t.qZA())}function Wt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.logOut())}),t._uU(1,"LogOut"),t.qZA()}}function Ht(n,o){1&n&&(t.TgZ(0,"button",25),t._uU(1,"Log In"),t.qZA())}let et=(()=>{class n{constructor(e,r,a,m){this.router=e,this.store=r,this.productByCategoryService=a,this.notifications=m,this.productListSearched$=this.searchAutoComplete(""),this.mySearchBar=new u.NI("")}ngOnInit(){this.categoryList$=this.store.pipe((0,i.Ys)(Nt)),this.userProfile$=this.store.pipe((0,i.Ys)(Z.d)),this.isLoggedIn$=this.store.pipe((0,i.Ys)(Z.jl)),this.isLoggedOut$=this.store.pipe((0,i.Ys)(Z.Tz)),this.productListSearched$=this.mySearchBar.valueChanges.pipe((0,St.b)(100),(0,Ft.x)(),(0,It.w)(e=>e?this.searchAutoComplete(e):(0,$t.of)([])))}logIn(){this.router.navigateByUrl("/login")}logOut(){this.store.dispatch((0,Bt.n)())}searchAutoComplete(e){return this.store.pipe((0,i.Ys)(function yt(n){const o=n.toLowerCase();return(0,i.P1)(_,e=>e.filter(r=>r.name.toLowerCase().includes(o)))}(e)))}filterByCategory(e){this.productByCategoryService.getProductsByCategory(e)}searchProduct(e,r){console.log(r),1!==r.length?this.notifications.showWarning("Sorry, but there is not an object with that name","No product found"):this.router.navigateByUrl(`/product/${r[0].id}/${r[0].slug}`)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.F0),t.Y36(i.yh),t.Y36($),t.Y36(kt.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["website-nav-bar"]],decls:40,vars:24,consts:[["color","primary"],[1,"name-store"],[1,"background-search-bar"],["matInput","","type","text","placeholder","Search for products...",3,"formControl","matAutocomplete"],["searchBar",""],["class","search-button","mat-icon-button","",3,"click",4,"ngIf"],["searchAuto","matAutocomplete"],[3,"routerLink","value",4,"ngFor","ngForOf"],[1,"category-list"],["routerLink","/"],[3,"click",4,"ngFor","ngForOf"],[1,"spacer"],["mat-button","",3,"matMenuTriggerFor"],["menu",""],[1,"menu-header"],[4,"ngIf"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","","routerLink","/login",4,"ngIf"],["mat-icon-button","","routerLink","/cart"],["mat-icon-button","",1,"search-button",3,"click"],["matSuffix","",1,"search"],[3,"routerLink","value"],[3,"click"],["src","assets/applaudo_user-icon.png"],["mat-menu-item","",3,"click"],["mat-menu-item","","routerLink","/login"]],template:function(e,r){if(1&e&&(t.TgZ(0,"header")(1,"mat-toolbar",0)(2,"mat-toolbar-row")(3,"span",1),t._uU(4," Store"),t.qZA(),t.TgZ(5,"div",2),t._UZ(6,"input",3,4),t.YNc(8,Et,3,0,"button",5),t.ALo(9,"async"),t.TgZ(10,"mat-autocomplete",null,6),t.YNc(12,zt,2,6,"mat-option",7),t.ALo(13,"async"),t.qZA()()(),t.TgZ(14,"mat-toolbar-row")(15,"span"),t._uU(16," categorias "),t.qZA(),t.TgZ(17,"mat-nav-list",8)(18,"mat-list-item",9),t._uU(19," Home "),t.qZA(),t.YNc(20,Jt,2,1,"mat-list-item",10),t.ALo(21,"async"),t.qZA(),t._UZ(22,"span",11),t.TgZ(23,"button",12)(24,"mat-icon"),t._uU(25,"menu"),t.qZA()(),t.TgZ(26,"mat-menu",null,13)(28,"mat-card",14),t.YNc(29,Gt,4,3,"mat-card-header",15),t.ALo(30,"async"),t.YNc(31,Qt,2,0,"mat-card-header",15),t.ALo(32,"async"),t.qZA(),t.YNc(33,Wt,2,0,"button",16),t.ALo(34,"async"),t.YNc(35,Ht,2,0,"button",17),t.ALo(36,"async"),t.qZA(),t.TgZ(37,"button",18)(38,"mat-icon"),t._uU(39," shopping_cart "),t.qZA()()()()()),2&e){const a=t.MAs(11),m=t.MAs(27);t.xp6(6),t.Q6J("formControl",r.mySearchBar)("matAutocomplete",a),t.xp6(2),t.Q6J("ngIf",t.lcZ(9,10,r.productListSearched$)),t.xp6(4),t.Q6J("ngForOf",t.lcZ(13,12,r.productListSearched$)),t.xp6(8),t.Q6J("ngForOf",t.lcZ(21,14,r.categoryList$)),t.xp6(3),t.Q6J("matMenuTriggerFor",m),t.xp6(6),t.Q6J("ngIf",t.lcZ(30,16,r.userProfile$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(32,18,r.isLoggedOut$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(34,20,r.isLoggedIn$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(36,22,r.isLoggedOut$))}},dependencies:[d.sg,d.O5,p.rH,Y.VK,Y.OP,Y.p6,O.lW,c.a8,c.dk,v.R9,F.Nt,X.Ye,X.rD,B.Hw,V.Hk,V.Tg,tt.XC,tt.ZL,Rt.ey,u.Fj,u.JJ,u.oH,d.Ov,d.rS],styles:[".name-store[_ngcontent-%COMP%]{padding-right:8rem;font-size:30px}@media screen and (max-width: 900px){.name-store[_ngcontent-%COMP%]{padding-right:10vw}}mat-toolbar-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;padding:.2rem 5rem}@media screen and (max-width: 900px){mat-toolbar-row[_ngcontent-%COMP%]{padding:.2rem 10vw}}mat-toolbar-row[_ngcontent-%COMP%]:nth-child(1){box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}mat-toolbar-row[_ngcontent-%COMP%]:nth-child(2){padding:2.5rem 5.2rem}@media screen and (max-width: 900px){mat-toolbar-row[_ngcontent-%COMP%]:nth-child(2){padding:.2rem 10vw}}.background-search-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;background-color:#fff;width:50%;border:2px solid rgb(55,55,55);box-shadow:0 0 3px 1px #0000006b}.background-search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.5rem;font-size:large;background:transparent;border:none;outline:0;color:#000}.search-button[_ngcontent-%COMP%]{color:#0000006b}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.menu-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;flex-wrap:wrap;padding:0 .5rem;margin-top:-8px;top:0;width:auto}.menu-header[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:none;justify-content:space-around;height:5rem;padding-left:0;margin-top:22px;text-align:center}.menu-header[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 40px;height:var(--size);width:var(--size);margin-right:10px}.menu-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;gap:.3rem;text-align:center}.category-list[_ngcontent-%COMP%]{overflow-x:auto;width:70vw;padding:0}.category-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{display:inline-block;width:auto}@media screen and (max-width: 900px){.category-list[_ngcontent-%COMP%]{display:none}}"],changeDetection:0}),n})(),Dt=(()=>{class n{constructor(e){this.router=e,this.loading=!0}ngOnInit(){this.router.events.subscribe(e=>{switch(!0){case e instanceof p.OD:this.loading=!0;break;case e instanceof p.Q3:this.loading=!1}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-website"]],decls:3,vars:0,template:function(e,r){1&e&&(t._UZ(0,"website-nav-bar"),t.TgZ(1,"main"),t._UZ(2,"router-outlet"),t.qZA())},dependencies:[p.lC,et]}),n})();var L=s(9300),A=s(590),M=s(8746);let N=(()=>{class n{constructor(e){this.store=e,this.loading=!1}resolve(e,r){return this.store.pipe((0,i.Ys)(mt),(0,x.b)(a=>{!this.loading&&!a&&(this.loading=!0,this.store.dispatch((0,g.Eh)()))}),(0,L.h)(a=>a),(0,A.P)(),(0,M.x)(()=>{this.loading=!1}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(i.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),nt=(()=>{class n{constructor(e){this.store=e,this.loading=!1}resolve(e,r){return this.store.pipe((0,i.Ys)(qt),(0,x.b)(a=>{!this.loading&&!a&&(this.loading=!0,this.store.dispatch((0,g.R3)()))}),(0,L.h)(a=>a),(0,A.P)(),(0,M.x)(()=>{this.loading=!1}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(i.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),rt=(()=>{class n{constructor(e){this.store=e,this.loading=!1}resolve(e,r){return this.store.pipe((0,i.Ys)(Pt),(0,x.b)({next:a=>{!this.loading&&!a&&(this.loading=!0,this.store.dispatch((0,g.Bi)()))}}),(0,L.h)(a=>a),(0,A.P)(),(0,M.x)(()=>{this.loading=!1}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(i.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),ot=(()=>{class n{constructor(e){this.store=e,this.loading=!1}resolve(e,r){return this.store.pipe((0,i.Ys)(ft),(0,x.b)({next:a=>{!this.loading&&!a&&(this.loading=!0,this.store.dispatch((0,g.zO)()))}}),(0,L.h)(a=>a),(0,A.P)(),(0,M.x)(()=>{this.loading=!1}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(i.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const Kt=[{path:"",component:Dt,resolve:{categories:nt,products:ot,metaProducts:rt},children:[{path:"cart/:idProduct/:quantity",component:I,canActivate:[k],resolve:{cart:N}},{path:"cart",component:I,canActivate:[k],resolve:{cart:N}},{path:"product/:id/:productName",component:D},{path:"",component:H}]}];let Xt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.Bz.forChild(Kt),p.Bz]}),n})();var Vt=s(9344),f=s(4004),T=s(262),P=s(529);let at=(()=>{class n{constructor(e){this.http=e,this.CATEGORIES_URL="https://trainee-program-api-staging.applaudostudios.com/api/v1"}getCategories(){return this.http.get(`${this.CATEGORIES_URL}/categories`).pipe((0,f.U)(e=>e.data),(0,T.K)(e=>{throw 401==e.status?new Error("There are not categories"):new Error("Somenthing happened")}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(P.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),it=(()=>{class n{constructor(e,r){this.http=e,this.store=r,this.PRODUCT_URL="https://trainee-program-api-staging.applaudostudios.com/api/v1",this.defaultPageNumber=1,this.defaultPageSize=0}getProducts(e=this.defaultPageNumber,r=this.defaultPageSize){return this.http.get(`${this.PRODUCT_URL}/products?include=image_attachment.blob,category,master`,{params:this.getParameters(e,r)}).pipe((0,f.U)(a=>a.data),(0,T.K)(a=>{throw 401==a.status?new Error("There are not products"):new Error("Somenthing happened")}))}getParameters(e=this.defaultPageNumber,r=this.defaultPageSize){return(new P.LE).append("page[size]",r).append("page[number]",e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(P.eN),t.LFG(i.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var h=s(493),b=s(4351),w=s(9936);let st=(()=>{class n{constructor(e){this.http=e,this.META_URL="https://trainee-program-api-staging.applaudostudios.com/api/v1"}getMetadata(){return this.http.get(`${this.META_URL}/products`,{params:this.getParameters()}).pipe((0,f.U)(e=>e.meta))}getParameters(){return(new P.LE).append("page[size]",42)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(P.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ct=(()=>{class n{constructor(e){this.http=e,this.CART_URL="https://trainee-program-api-staging.applaudostudios.com/api/v1"}getCart(){return this.http.get(`${this.CART_URL}/cart`).pipe((0,f.U)(e=>e.data),(0,T.K)(e=>{throw 401==e.status?new Error("There is not a cart"):new Error("Somenthing happened")}))}addItemCart(e){return this.http.put(`${this.CART_URL}/cart`,e).pipe((0,f.U)(r=>r.data),(0,T.K)(r=>{throw 401==r.status?new Error("We cannot add the item to the cart"):new Error("Somenthing happened")}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(P.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),te=(()=>{class n{constructor(e,r,a,m,y){this.actions$=e,this.categories=r,this.products=a,this.metadataProducts=m,this.cart=y,this.loadCategories$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(w.m.R3),(0,b.b)(()=>this.categories.getCategories()),(0,f.U)(l=>(0,g.bY)({categoryList:l})))),this.loadProducts$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(w.m.zO),(0,b.b)(()=>this.products.getProducts()),(0,f.U)(l=>(0,g.MD)({productList:l})))),this.loadMetadataProducts$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(w.m.Bi),(0,b.b)(()=>this.metadataProducts.getMetadata()),(0,f.U)(l=>(0,g.UQ)({productMeta:l})))),this.loadCart$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(w.m.Eh),(0,b.b)(()=>this.cart.getCart()),(0,f.U)(l=>(0,g.fF)({cart:l})))),this.AddItemCart$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(w.m.ec),(0,b.b)(l=>this.cart.addItemCart(l.cartDto))),{dispatch:!1})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(h.eX),t.LFG(at),t.LFG(it),t.LFG(st),t.LFG(ct))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var ee=s(4466);const ne=[at,it,st,$,ct],re=[nt,ot,rt,N];let oe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[...ne,...re],imports:[d.ez,Xt,Vt.q,u.UX,ee.m,h.sQ.forFeature([te])]}),n})()}}]);